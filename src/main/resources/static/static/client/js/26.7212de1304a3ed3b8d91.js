webpackJsonp([26],{"qKQ+":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("vLgD"),i=s("X2Oc"),l={name:"account",inject:["reload"],data:function(){return{MAXSIZE:5242880,disabled:!0,status:"",customer:"",isCompanyRepeat:!1,msg:"",form:{cid:"",id:"",companyName:"",customerNo:"",address:"",contactName:"",telephone:"",license:"",logo:""}}},created:function(){this.getData()},methods:{submit:function(){var t=this,e=t.form;e.companyName&&e.customerNo&&e.contactName?e.license?!e.telephone||Object(i.l)(e.telephone)?t.isCompanyRepeat?t.R("公司名称已存在！","error"):Object(a.b)("sys/account/update",e).then(function(e){sessionStorage.clear(),t.reload()}).catch(function(){}):t.R("请输入正确的手机号码！"):t.R("请上传营业执照！"):t.R("内容不能为空！")},getData:function(){var t=this,e=Object(i.h)();t.customer=e,t.form.id=e.id,t.form.companyName=e.companyName,t.form.customerNo=e.customerNo,t.form.address=e.address,t.form.contactName=e.contactName,t.form.telephone=e.telephone,t.form.license=e.license,t.form.logo=e.logo,t.status=e.status,1==e.status||2==e.status?t.disabled=!0:t.disabled=!1},uploadFile:function(t){var e=this,s=$(t)[0].files[0];if(s.size>e.MAXSIZE)return e.R("文件大小超出限制!"),void $(t).val("");var i=new FormData;i.append("file",s),Object(a.c)(i).then(function(s){$(t).val(""),"#logo"==t&&(e.form.logo=s.fileName),"#license"==t&&(e.form.license=s.fileName)}).catch(function(){$(t).val("")})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sys-account"},[s("div",{staticStyle:{"margin-bottom":"0"}},[1==t.status?s("el-alert",{attrs:{title:"企业认证已审核通过！如修改企业账号相关资料，则需重新提交审核。",type:"success",closable:!1,"show-icon":""}}):t._e(),t._v(" "),2==t.status?s("el-alert",{attrs:{title:"企业认证审核中，通常在一个工作日内完成，请耐心等待，如需帮助请联系客服。",type:"warning",closable:!1,"show-icon":""}}):t._e(),t._v(" "),0==t.status?s("el-alert",{attrs:{title:"企业认证未通过，请重新提交审核。",type:"error",closable:!1,"show-icon":""}}):t._e()],1),t._v(" "),s("div",{staticClass:"mt2"},[s("div",{staticClass:"customer-deit bgw p2"},[s("div",{staticClass:"item-1"},[s("form",[s("label",[t._m(0),t._v(" "),s("el-input",{attrs:{size:"small",disabled:t.disabled,placeholder:"请输入内容"},model:{value:t.form.companyName,callback:function(e){t.$set(t.form,"companyName","string"==typeof e?e.trim():e)},expression:"form.companyName"}}),t._v(" "),t.isCompanyRepeat?s("div",{staticClass:"error",staticStyle:{"font-size":"12px","margin-top":"4px"}},[t._v(t._s(t.msg))]):t._e()],1),t._v(" "),s("label",[t._m(1),t._v(" "),s("el-input",{attrs:{size:"small",disabled:t.disabled,maxlength:"10",placeholder:"请输入内容"},model:{value:t.form.customerNo,callback:function(e){t.$set(t.form,"customerNo","string"==typeof e?e.trim():e)},expression:"form.customerNo"}})],1),t._v(" "),s("label",[s("p",[t._v("公司地址")]),t._v(" "),s("el-input",{attrs:{size:"small",disabled:t.disabled,placeholder:"请输入内容"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address","string"==typeof e?e.trim():e)},expression:"form.address"}})],1),t._v(" "),s("label",[t._m(2),t._v(" "),s("el-input",{attrs:{size:"small",disabled:t.disabled,placeholder:"请输入内容"},model:{value:t.form.contactName,callback:function(e){t.$set(t.form,"contactName","string"==typeof e?e.trim():e)},expression:"form.contactName"}})],1),t._v(" "),s("label",[t._m(3),t._v(" "),s("el-input",{attrs:{size:"small",disabled:t.disabled,placeholder:"请输入内容"},model:{value:t.form.telephone,callback:function(e){t.$set(t.form,"telephone","string"==typeof e?e.trim():e)},expression:"form.telephone"}})],1),t._v(" "),t._m(4),t._v(" "),s("div",{staticClass:"customer-file"},[s("div",{staticClass:"customer-license"},[t._m(5),t._v(" "),s("div",[t.form.license?s("img",{attrs:{src:t.form.license}}):s("img",{attrs:{src:"/static/client/img/customer/1.png"}})]),t._v(" "),t.disabled?t._e():s("label",{staticClass:"cp"},[s("input",{staticClass:"hide",attrs:{id:"license",disabled:t.disabled,type:"file",accept:".jpg,.png,.jpeg"},on:{change:function(e){return t.uploadFile("#license")}}}),t._v(" "),t._m(6)])]),t._v(" "),s("div",{staticClass:"customer-logo"},[s("p",[t._v("头像")]),t._v(" "),s("div",[t.form.logo?s("img",{attrs:{src:t.form.logo}}):s("img",{attrs:{src:"/static/client/img/customer/2.png"}})]),t._v(" "),t.disabled?t._e():s("label",{staticClass:"cp"},[s("input",{staticClass:"hide",attrs:{id:"logo",disabled:t.disabled,type:"file",accept:".jpg,.png,.jpeg,.gif"},on:{change:function(e){return t.uploadFile("#logo")}}}),t._v(" "),t._m(7)])])])]),t._v(" "),s("div",{staticClass:"t-c",staticStyle:{"margin-top":"50px"}},[s("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.submit}},[1==t.status?s("span",[t._v("审核已通过")]):2==t.status?s("span",[t._v("认证审核中")]):s("span",[t._v("提交")])]),t._v(" "),s("el-button",{on:{click:function(e){return t.reload()}}},[t._v("重置")]),t._v(" "),s("el-button",{on:{click:function(e){t.disabled=!1,t.status=3}}},[t._v("修改")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"error"},[this._v("* ")]),this._v("公司名称")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"error"},[this._v("* ")]),this._v("公司简称")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"error"},[this._v("* ")]),this._v("联系人姓名")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"error"},[this._v("* ")]),this._v("联系电话")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"info"},[this._v("\n            附件要求："),e("br"),this._v("\n            1.扫描件需使用jpg/jpeg/png格式，正面平整且文字清晰可见，图片大小不超过5M "),e("br"),this._v("\n            2.营业执照或组织机构代码证（加盖企业公章）至少上传一种 "),e("br"),this._v("\n            3.企业LOGO不得超过500k\n          ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"error"},[this._v("* ")]),this._v("营业执照/ 组织机构代码证 "),e("span",{staticClass:"error"},[this._v("(加盖企业公章)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i",{staticClass:"el-icon-upload el-icon&#45;&#45;right"}),this._v(" 更换营业执照")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i",{staticClass:"el-icon-upload el-icon&#45;&#45;right"}),this._v(" 更换头像")])}]},r=s("VU/8")(l,o,!1,null,null,null);e.default=r.exports}});